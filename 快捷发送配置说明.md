# 快捷发送配置说明

## 功能介绍

现在快捷发送功能支持将指令保存到工程目录的配置文件中，这样您就可以在更换电脑或浏览器时自动加载配置。

## 使用方法

### 1. 自动加载配置

如果在工程根目录下存在 `quicksend-config.json` 文件，**通过HTTP服务器访问页面时**会自动读取该文件中的快捷发送配置。

**重要：**由于浏览器安全限制，直接双击打开HTML文件（file://协议）无法自动加载配置文件。

#### 启动HTTP服务器的方法：

1. **Windows用户**：双击 `start-server.bat` 文件
2. **手动启动**：在工程目录中执行命令：
   ```bash
   python -m http.server 8000
   ```
3. 在浏览器中访问：`http://localhost:8000`

### 2. 保存配置到文件

1. 在"系统选项"标签页中，找到"快捷发送配置"部分
2. 点击"保存到文件"按钮
3. 根据浏览器支持情况：
   - 如果浏览器支持文件系统API，会弹出保存对话框
   - 如果不支持，会自动下载配置文件

### 3. 从文件加载配置

1. 点击"从文件加载"按钮
2. 选择配置文件（JSON格式）
3. 配置会立即生效并覆盖当前配置

## 配置文件格式

配置文件为JSON格式，包含多个分组，每个分组包含多条指令：

```json
[
    {
        "name": "分组名称",
        "list": [
            {
                "name": "指令名称",
                "content": "指令内容",
                "hex": false
            }
        ]
    }
]
```

## 文件位置

将配置文件保存为 `quicksend-config.json` 并放在以下位置：
- 与 `index.html` 同级目录
- 即工程根目录：`web-serial/quicksend-config.json`

## 注意事项

1. 由于浏览器安全限制，系统无法自动保存配置到工程目录
2. 修改配置后需要手动点击"保存到文件"按钮
3. 配置同时保存在浏览器localStorage中作为备份
4. 优先加载工程目录的配置文件，如果加载失败则使用localStorage中的配置

## 默认配置

系统已在工程根目录下创建了 `quicksend-config.json` 文件，包含：
- ESP32 AT指令分组
- 常用调试指令分组

您可以在此基础上添加自己的指令配置。 